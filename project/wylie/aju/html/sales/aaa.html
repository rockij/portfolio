<!DOCTYPE html>
<!--
	2020-06-19		텍스트 및 항목 순서 조정
-->
<html lang="ko">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=8,IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
	<!--target-densitydpi=medium-dpi-->
	<meta name="format-detection" content="telephone=no, address=no, email=no" />
	<!-- 아이폰 전체화면 -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="default">
	<title>딜러라운지</title>

	<!-- CSS -->
	<link rel="stylesheet" href="../../assets/css/reset.css" type="text/css" />
	<link rel="stylesheet" href="../../assets/css/slick.css" type="text/css" />
	<link rel="stylesheet" href="../../assets/css/slick-theme.css" type="text/css" />
	<link rel="stylesheet" href="../../assets/css/swiper.min.css" type="text/css" />
	<link rel="stylesheet" href="../../assets/css/ui.common.css" type="text/css" /> <!-- 공통 요소 -->

	<!-- JS -->
	<script type="text/javascript" src="../../assets/js/jquery.js"></script>
	<script type="text/javascript" src="../../assets/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="../../assets/js/slick.min.js"></script>
	<script type="text/javascript" src="../../assets/js/swiper.min.js"></script>
	<script type="text/javascript" src="../../assets/js/Chart.min.js"></script>
	<script type="text/javascript" src="../../assets/js/ui.common.js"></script><!-- 공통 요소 -->
</head>
<body>
	<section id="wrap">
		<div id="skipNavi">
			<a href="#container">본문 바로가기</a>
		</div>
		<main id="salesMain" class="sales">
			<link rel="stylesheet" href="../../assets/css/ui.sales.css" type="text/css" />
			<header class="headerMain">
                <span class="iconPartner gold">Gold</span>
				<p><em>정회원</em>님 반갑습니다.</p>
                <a href="#" class="btnInform new">알림</a> <!-- new아이콘 추가시 clas="new" 추가 -->
			</header>
			<section id="container" class="salesMain">
				<div class="inner">
					<div class="graphArea">
						<div style="width: 40vw; height: 20vw;"><canvas id="mainCanvas"></canvas></div>
						
						<div class="per"><span>0</span>%</div>
					</div>
					<div class="tempGraph">
						<img src="../../assets/img/temp/sales_temp.png" alt="">
					</div>
					<div class="touch">
						<h2><a href="#">터치현황</a></h2>
						<ul class="list">
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>방문면담</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>신규영업</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>상담실행</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>식사회식</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>전화문자</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>판촉</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>포인트</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>기프티콘</p>
							</li>
						</ul>
					</div>
					<div class="dealership">
						<h2><a href="#">딜러현황</a></h2>
						<!-- 2020-06-19 순서 조정  -->
						<ul class="list">
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>전체</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>신규확보</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>유실적</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>무실적</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>신규배정</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>이탈위험</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>미터치</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>Favorite</p>
							</li>
						</ul>
						<!--// 2020-06-19 순서 조정  -->
					</div>
					<div class="dealer">
						<!-- 2020-06-19 텍스트 수정  -->
						<h2><a href="#">상사현황(론)</a></h2>
						<!--// 2020-06-19 텍스트 조정  -->
						<!-- 2020-06-19 순서 조정  -->
						<ul class="list">
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>전체</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>미터치</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>유실적</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>무실적</p>
							</li>
							<li>
								<a href="#">
									<span>
										<strong>25</strong>
										<em class="plus">(+2)</em>
									</span>
									<p>재고금융</p>
								</a>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="plus">(+2)</em>
								</span>
								<p>재고연장</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>대출상담</p>
							</li>
							<li>
								<span>
									<strong>25</strong>
									<em class="minus">(-2)</em>
								</span>
								<p>Favorite</p>
							</li>
						</ul>
						<!-- 2020-06-19 순서 조정  -->
					</div>
					<div class="etc">
						<h2>기타현황</h2>
						<ul class="list">
							<li>
								<a href="#">
									<span>
										<strong>25</strong>
										<em class="plus">(+2)</em>
									</span>
									<p>미설정</p>
								</a>
							</li>
							<li>
								<a href="#">
									<span>
										<strong>25</strong>
										<em class="minus">(-2)</em>
									</span>
									<p>미스캔</p>
								</a>
							</li>
							<li>
								<a href="#">
									<span>
										<strong>25</strong>
										<em class="plus">(+2)</em>
									</span>
									<p>경매</p>
								</a>
							</li>
						</ul>
						<ul class="notiList">
							<li>
								기타현황 각 항목을 터치하면, 해당 상세 내용을<br>
								확인할 수 있습니다.
							</li>
						</ul>
					</div>
				</div>
			</section>
		</main>
	</section>
<script>
	var mainConfig = {
		type: 'doughnut',
		data: {
			datasets: [{
				data: [0, 100],
				backgroundColor: ['#2962c2', '#bad8fc'],
				label: 'date1',
				borderWidth: 0
			}]
		},
		options: {
			responsive: true,
			cutoutPercentage: 80,
			rotation: 1 * Math.PI,
			circumference: 1 * Math.PI,
			maintainAspectRatio: false,
			title: {
				display: false
			},
			animation: {
				animateScale: false,
				animateRotate: false
			}
		}
	};

	window.onload = function() {
		var mainCanvas = document.getElementById('mainCanvas').getContext('2d');
		var mainChart = new Chart(mainCanvas, mainConfig);
		chartUpdate(mainChart);
	};

	function chartUpdate(chart){
		var dataVal = 75
		var dataset = mainConfig.data.datasets;
			dataset[0].data[0] = dataVal
			dataset[0].data[1] = 100 - dataVal

			chart.update();
			graphInterval = setInterval(function(){ 
				graphPer(dataVal);
			}, 10);

	};
	per = 0
	
	function graphPer(dataVal){
		
		console.log(per)
		if(per <= dataVal){
			$('.per span').text(per++);
		} else {
			clearInterval(graphInterval);
			return;
		}
	};

</script>
</body>
</html>
